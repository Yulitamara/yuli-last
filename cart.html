<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>×”×¢×’×œ×” ×©×œ×š</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        .cart-container {
            max-width: 900px;
            margin: 7rem auto 3rem;
            padding: 1rem;
        }

        @media screen and (max-width: 1023px) {
            .cart-container {
                max-width: 900px;
                margin: 1rem auto 6rem;
                padding: 1rem;
            }
        }

        .cart-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #ddd;
            padding-bottom: 1rem;
        }

        .cart-item img {
            width: 80px;
            height: auto;
            border-radius: 0.5rem;
        }

        .cart-details {
            flex-grow: 1;
        }

        .cart-total {
            font-weight: bold;
            font-size: 1.2rem;
            text-align: center;
            margin-top: 2rem;
        }

        .paybox-button {
            display: block;
            text-align: center;
            margin: 2rem auto 0;
            background-color: #f38376;
            color: white;
            padding: 0.75rem 2rem;
            border: none;
            border-radius: 1.5rem;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            max-width: 250px;
        }

        .paybox-button:hover {
            background-color: #e85e4f;
        }

        .cart-item i.ri-delete-bin-line {
            font-size: 1.3rem;
            color: #e85e4f;
            cursor: pointer;
            transition: color 0.3s;
        }

        .cart-item i.ri-delete-bin-line:hover {
            color: #a8251b;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .quantity-controls button {
            background-color: #f38376;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 1rem;
            cursor: pointer;
        }

        .quantity-controls button:hover {
            background-color: #e85e4f;
        }

        .cart-shipping-info {
            display: flex;
            flex-direction: column;
            /* align-items: center; */
            gap: 1rem;

        }

        #city-select {
            max-width: 110px;
            padding: .3rem .2rem;
        }
    </style>
</head>

<body>
    <header class="header" id="header" dir="ltr">
        <nav class="nav container">
            <a href="index.html" class="nav__logo">×ª×¢×–×‘×• ××ª ×™×•×œ×™</a>
            <div class="nav__menu " id="nav-menu">
                <ul class="nav__list grid" dir="rtl">
                    <li class="nav__item"><a href="index.html#gallery" class="nav__link no-select"><i
                                class="ri-quill-pen-fill"></i> ×—× ×•×ª</a></li>
                    <li class="nav__item"><a href="index.html#personal" class="nav__link no-select"><i
                                class="ri-gift-line"></i> ×¦×™×•×¨×™× ×‘×”×–×× ×” ××™×©×™×ª</a></li>

                    <li class="nav__item"><a href="index.html#contact" class="nav__link no-select"><i
                                class="ri-chat-3-line"></i> ×™×¦×™×¨×ª ×§×©×¨</a></li>
                </ul>
                <div class="nav__close no-select" id="nav-close"><i class="ri-close-line"></i></div>
            </div>
            <div class="nav__buttons no-select">
                <i class="ri-moon-line change-theme" id="theme-button"></i>
                <div class="nav__toggle" id="nav-toggle"><i class="ri-menu-4-line"></i></div>
            </div>
        </nav>
    </header>

    <main class="cart-container">
        <h2 class="section__title">×”×¢×’×œ×” ×©×œ×š</h2>
        <div id="cart-items"></div>
        <div class="cart-shipping-info" style="margin-top: 2rem;">
            <p>××—×¨×™ ×©×ª×©×œ×—×• ×ª×©×œ×•× ×‘×‘×™×˜, ×ª×§×‘×œ×• ××™×©×•×¨ ×•× ×“×‘×¨ ×œ×ª×× ××ª ×”××©×œ×•×— ğŸ’Œ</p>
            <label for="city-select">×‘×—×¨×• ×¢×™×¨ ×œ×¦×•×¨×š ×—×™×©×•×‘ ×¢×œ×•×ª ××©×œ×•×—:</label>
            <select id="city-select">
                <option value="">-- ×‘×—×¨×• ×¢×™×¨ --</option>
                <option value="×ª×œ ××‘×™×‘">×ª×œ ××‘×™×‘</option>
                <option value="×’×‘×¢×ª×™×™×">×’×‘×¢×ª×™×™×</option>
                <option value="×¨××ª ×’×Ÿ">×¨××ª ×’×Ÿ</option>
                <option value="×—×•×œ×•×Ÿ">×—×•×œ×•×Ÿ</option>
                <option value="×‘×ª ×™×">×‘×ª ×™×</option>
                <option value="×”×¨×¦×œ×™×”">×”×¨×¦×œ×™×”</option>
                <option value="×¨××ª ×”×©×¨×•×Ÿ">×¨××ª ×”×©×¨×•×Ÿ</option>
                <option value="×¤×ª×— ×ª×§×•×•×”">×¤×ª×— ×ª×§×•×•×”</option>
                <option value="×‘× ×™ ×‘×¨×§">×‘× ×™ ×‘×¨×§</option>
                <option value="×§×¨×™×ª ××•× ×•">×§×¨×™×ª ××•× ×•</option>
                <option value="×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ">×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ</option>
            </select>
            <p id="shipping-cost">×¢×œ×•×ª ××©×œ×•×—: 0 ×©"×—</p>
        </div>
        <div class="cart-total">×¡×”"×› ×œ×ª×©×œ×•×: <span id="total">0</span> â‚ª</div>
        <p style="text-align:center; margin-top: 2rem;">
            <strong>×™×© ×œ×©×œ× ××ª ×”×¡×›×•× ×”×¡×•×¤×™ ×‘××¤×œ×™×§×¦×™×™×ª ×‘×™×˜:</strong><br>
            <span id="bit-amount" style="font-size: 1.3rem; color: #f38376;"></span>
        </p>
        <div style="text-align: center; margin-top: 1.5rem;">
            <button onclick="copyToClipboard('0542634686')" class="paybox-button">
                ğŸ“‹ ×”×¢×ª×§ ××¡×¤×¨ ×•×©×œ× ×‘×‘×™×˜
            </button>

            <p style="margin-top: 1rem; font-size: 0.95rem;">
                ğŸ’¡ ×¤×ª×—×• ××ª ××¤×œ×™×§×¦×™×™×ª <strong>×‘×™×˜</strong> ×•×”×“×‘×™×§×• ××ª ×”××¡×¤×¨ ×‘×—×™×¤×•×© ×›×“×™ ×œ×©×œ×.<br>
                ×× ×™×© ×©××œ×”, ×›×ª×‘×• ×œ×™ <a href="https://wa.me/972542634686" target="_blank"
                    style="color:#25D366;">×‘×•×•××˜×¡××¤</a>.
            </p>
        </div>

        <div style="text-align: center; margin-top: 2rem;">
            <p style="margin-bottom: 0.5rem;"><strong>××• ×¡×¨×§×• ××ª ×”×§×•×“ ×›×“×™ ×œ×©×œ× ×‘×‘×™×˜:</strong></p>
            <img src="assets/img/bit-qr.jpeg" alt="×ª×©×œ×•× ×‘×™×˜"
                style="max-width: 200px; border-radius: 1rem; box-shadow: 0 0 8px rgba(0,0,0,0.1);" />
        </div>

    </main>

    <script>
        const citySelect = document.getElementById("city-select");
        const shippingCostDisplay = document.getElementById("shipping-cost");
        const bitLink = document.getElementById("bit-link");
        let shippingCost = 0;

        const cityShippingCosts = {
            "×ª×œ ××‘×™×‘": 30,
            "×’×‘×¢×ª×™×™×": 50,
            "×¨××ª ×’×Ÿ": 50,
            "×—×•×œ×•×Ÿ": 50,
            "×‘×ª ×™×": 50,
            "×”×¨×¦×œ×™×”": 50,
            "×¨××ª ×”×©×¨×•×Ÿ": 50,
            "×¤×ª×— ×ª×§×•×•×”": 50,
            "×‘× ×™ ×‘×¨×§": 50,
            "×§×¨×™×ª ××•× ×•": 50,
            "×¨××©×•×Ÿ ×œ×¦×™×•×Ÿ": 50
        };

        citySelect?.addEventListener("change", () => {
            const city = citySelect.value;
            if (cityShippingCosts[city]) {
                shippingCost = cityShippingCosts[city];
                shippingCostDisplay.textContent = `×¢×œ×•×ª ××©×œ×•×—: ${shippingCost} ×©"×—`;
                localStorage.setItem("shipping", JSON.stringify({ city, cost: shippingCost }));
            } else {
                shippingCost = 0;
                shippingCostDisplay.textContent = "×¢×œ×•×ª ××©×œ×•×—: 0 ×©\"×—";
                localStorage.removeItem("shipping");
            }
            renderCart();
        });

        function renderCart() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const container = document.getElementById("cart-items");
            container.innerHTML = "";
            let total = 0;

            cart.forEach((item, index) => {
                const quantity = item.quantity || 1;
                const div = document.createElement("div");
                div.className = "cart-item";
                div.innerHTML = `
                    <img src="${item.img}" alt="${item.name}">
                    <div class="cart-details">
                        <div>${item.name}</div>
                        <div>${item.price} â‚ª ×œ×™×—×™×“×”</div>
                        <div class="quantity-controls">
                            <button onclick="changeQuantity(${index}, -1)">âˆ’</button>
                            <span>${quantity}</span>
                            <button onclick="changeQuantity(${index}, 1)">+</button>
                        </div>
                    </div>
                    <i class="ri-delete-bin-line" onclick="removeFromCart(${index})" title="×”×¡×¨ ×¤×¨×™×˜"></i>
                `;
                container.appendChild(div);
                total += item.price * quantity;
            });

            total += shippingCost;
            document.getElementById("total").innerText = total;
            document.getElementById("bit-amount").innerText = total + ' â‚ª';
            bitLink.href = `https://bit-request.com/?phone=0542634686&amount=${total}`;
        }

        function changeQuantity(index, delta) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart[index].quantity = (cart[index].quantity || 1) + delta;
            if (cart[index].quantity < 1) cart[index].quantity = 1;
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
        }

        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.splice(index, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
        }

        renderCart();

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert("ğŸ“‹ ×”××¡×¤×¨ ×”×•×¢×ª×§! ×¢×›×©×™×• ×¤×ª×—×™ ××ª ××¤×œ×™×§×¦×™×™×ª ×‘×™×˜ ×•×”×“×‘×™×§×™ ××•×ª×•.");
            }).catch(() => {
                alert("×©×’×™××” ×‘×”×¢×ª×§×”. × ×¡×™ ×©×•×‘.");
            });
        }


    </script>

    <script src="assets/js/main.js"></script>
</body>

</html>